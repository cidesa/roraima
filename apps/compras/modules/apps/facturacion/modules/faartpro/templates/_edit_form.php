<?php
// auto-generated by PropelCidesa
// date: 2008/12/08 23:14:14
?>
<?php echo form_tag('faartpro/save', array(
  'id'        => 'sf_admin_edit_form',
  'name'      => 'sf_admin_edit_form',
  'multipart' => true,
)) ?>

<?php echo object_input_hidden_tag($faartpro, 'getId') ?>
<?php use_helper('Javascript','PopUp','Grid') ?>
<?php echo javascript_include_tag('dFilter','tools','observe','ajax') ?>



<h2 class="h2" onclick="javascript: return $('divDatos del Cliente').toggle();"><?php echo __('Datos del Cliente') ?></h2>
<fieldset id="sf_fieldset_datos_del_cliente" class="">

<div class="form-row" id="divDatos del Cliente">
<div id="divrifpro">
  <?php echo label_for('faartpro[rifpro]', __($labels['faartpro{rifpro}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('faartpro{rifpro}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('faartpro{rifpro}')): ?>
    <?php echo form_error('faartpro{rifpro}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

 <?php //echo input_auto_complete_tag('faartpro[rifpro]', $faartpro->getRifpro(),
  //'faartpro/autocomplete?ajax=1', array('autocomplete' => 'off',
  //'size' => 20,
  //'readonly'  =>  $faartpro->getId()!='' ? true : false ,
  //'onBlur'=> remote_function(array(
  //'url'      => 'faartpro/ajax',
  //'complete' => 'AjaxJSON(request, json)',
  //'condition' => "$('faartpro_rifpro').value != '' && $('id').value == ''",
  //'script'   => true,
  //'with' => "'ajax=1&cajtexmos=faartpro_nompro&cajtexcom=faartpro_rifpro&codigo='+this.value"
  //    ))),
 //array('use_style' => 'true')
  //)
  ?>

<?php $value = object_input_tag($faartpro, 'getRifpro', array (
  'size' => 20,
  'control_name' => 'faartpro[rifpro]',
  'readonly'  =>  $faartpro->getId()!='' ? true : false ,
  'onKeyDown' => "javascript:return dFilter (event.keyCode, this)",
  'onBlur'=> remote_function(array(
			  'url'      => 'faartpro/ajax',
			  'script' => true,
			  'complete' => 'AjaxJSON(request, json)',
			  'condition' => "$('faartpro_rifpro').value != ''",
  			  'with' => "'ajax=1&cajtexmos=faartpro_nompro&codigo='+this.value"
			  ))
  )); echo $value ? $value : '&nbsp;' ?>

<?php echo  button_to_popup('...',cross_app_link_to('herramientas','catalogo').'/metodo/Cotizaciones/clase/Facliente/frame/sf_admin_edit_form/obj1/faartpro_rifpro/obj2/faartpro_nompro/campo1/rifpro/campo2/nompro','','','botoncat');?>

  <?php $value = object_input_tag($faartpro, 'getNompro', array (
  'disabled' => true,
  'size' =>60,
  'control_name' => 'faartpro[nompro]',
)); echo $value ? $value : '&nbsp;' ?>
    </div>
</div>
<br/>
<div id="divcodalm">
  <?php echo label_for('faartpro[codalm]', __($labels['faartpro{codalm}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('faartpro{codalm}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('faartpro{codalm}')): ?>
    <?php echo form_error('faartpro{codalm}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

 <?php //echo input_auto_complete_tag('faartpro[codalm]', $faartpro->getCodalm(),
    //'faartpro/autocomplete?ajax=2',  array('autocomplete' => 'off','maxlength' => 6,   'readonly'  =>  $faartpro->getId()!='' ? true : false ,'onBlur'=> remote_function(array(
    //'size' => 20,
    //    'url'      => 'faartpro/ajax',
    //    'condition' => "$('faartpro_codalm').value != '' && $('id').value == ''",
    //    'complete' => 'AjaxJSON(request, json)',
    //    'script'   => true,
    //      'with' => "'ajax=2&cajtexmos=faartpro_nomalm&cajtexcom=faartpro_codalm&codigo='+this.value"
    //    ))),
    // array('use_style' => 'true')
  //)
?>

<?php $value = object_input_tag($faartpro, 'getCodalm', array (
  'size' => 20,
  'control_name' => 'faartpro[codalm]',
  'readonly'  =>  $faartpro->getId()!='' ? true : false ,
  'onKeyDown' => "javascript:return dFilter (event.keyCode, this)",
  'onBlur'=> remote_function(array(
			  'url'      => 'faartpro/ajax',
			  'script' => true,
			  'complete' => 'AjaxJSON(request, json)',
			  'condition' => "$('faartpro_codalm').value != ''",
  			  'with' => "'ajax=1&cajtexmos=faartpro_nomalm&codigo='+this.value"
			  ))
  )); echo $value ? $value : '&nbsp;' ?>

<?php echo  button_to_popup('...',cross_app_link_to('herramientas','catalogo').'/metodo/Cadefalm_Almdes/clase/Cadefalm/frame/sf_admin_edit_form/obj1/faartpro_codalm/obj2/faartpro_nomalm','','','botoncat')?></th>

 <?php $value = object_input_tag($faartpro, 'getNomalm', array (
  'size' => 60,
  'disabled' => true,
  'control_name' => 'faartpro[nomalm]',
)); echo $value ? $value : '&nbsp;' ?>
    </div>
</div>
<br/>
<div id="divcodcta">
  <?php echo label_for('faartpro[codcta]', __($labels['faartpro{codcta}' ]), 'class="required" Style="text-align:left; width:150px"') ?>
  <div class="content<?php if ($sf_request->hasError('faartpro{codcta}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('faartpro{codcta}')): ?>
    <?php echo form_error('faartpro{codcta}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

 <?php echo input_auto_complete_tag('faartpro[codcta]', $faartpro->getCodcta(),
    'faartpro/autocomplete?ajax=2',  array('autocomplete' => 'off','maxlength' => 6,   'readonly'  =>  $faartpro->getId()!='' ? true : false ,
    'onKeyPress' => "javascript:return dFilter (event.keyCode, this,'$mascara')",
    'size' => 20,
    'maxlength' => $loncta,
    'onBlur'=> remote_function(array(
        'url'      => 'faartpro/ajax',
        'condition' => "$('faartpro_codcta').value != '' && $('id').value == ''",
        'complete' => 'AjaxJSON(request, json)',
        'script'   => true,
          'with' => "'ajax=3&cajtexmos=faartpro_descta&cajtexcom=faartpro_codcta&codigo='+this.value"
        ))),
     array('use_style' => 'true')
  )
?>

<?php echo  button_to_popup('...',cross_app_link_to('herramientas','catalogo').'/metodo/Contabb_Almregpro/clase/Contabb/frame/sf_admin_edit_form/obj1/faartpro_descta/obj2/faartpro_codcta/campo1/descta/campo2/codcta','','','botoncat')?>

<?php $value = object_input_tag($faartpro, 'getDescta', array (
  'disabled' => true,
  'size' => 60,
  'control_name' => 'faartpro[descta]',
)); echo $value ? $value : '&nbsp;' ?></div>
    </div>
</div>
</div>
</fieldset>

<?php echo grid_tag($obj);?>


<?php include_partial('edit_actions', array('faartpro' => $faartpro)) ?>

</form>

<ul class="sf_admin_actions">
      <li class="float-left"><?php if ($faartpro->getId()): ?>
<?php echo button_to(__('delete'), 'faartpro/delete?id='.$faartpro->getId().'&codpro='.$faartpro->getCodpro().'&codalm='.$faartpro->getCodalm(), array (
  'post' => true,
  'confirm' => __('Are you sure?'),
  'class' => 'sf_admin_action_delete',
)) ?><?php endif; ?>
</li>
  </ul>

  <script language="JavaScript" type="text/javascript">
  var idf='<?php echo $faartpro->getId()?>';
  if (idf!="")
  {
    $$('.botoncat')[0].disabled=true;
    $$('.botoncat')[1].disabled=true;
    $$('.botoncat')[2].disabled=true;
  }
</script>

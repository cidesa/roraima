<?php
// auto-generated by PropelCidesa
// date: 2008/11/16 18:46:14
?>
<?php echo form_tag('fadescto/save', array(
  'id'        => 'sf_admin_edit_form',
  'name'      => 'sf_admin_edit_form',
  'multipart' => true,
)) ?>

<?php echo javascript_include_tag('ajax') ?>
<?php echo javascript_include_tag('dFilter','Observe') ?>
<?php echo javascript_include_tag('tools') ?>

<?php echo object_input_hidden_tag($fadescto, 'getId') ?>



<fieldset id="sf_fieldset_none" class="">
<div class="form-row">

<fieldset id="sf_fieldset_none" class="">
<legend><?php echo __('Datos del Descuento')?></legend>
<div class="form-row">
  <?php echo label_for('fadescto[coddesc]', __($labels['fadescto{coddesc}' ]), 'class="required"') ?>
  <div class="content<?php if ($sf_request->hasError('fadescto{coddesc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fadescto{coddesc}')): ?>
    <?php echo form_error('fadescto{coddesc}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php /*$value = object_input_tag($fadescto, 'getCoddesc', array (
  'size' => 5,
  'maxlength' => 4,
  'control_name' => 'fadescto[coddesc]',
)); echo $value ? $value : '&nbsp;'*/ ?>

<?php $value = object_input_tag($fadescto, 'getCoddesc', array (
'size' => 5,
'maxlength' => 4,
'readonly' => $fadescto->getId()!='' ? true : false,
'control_name' => 'fadescto[coddesc]',
'onBlur'  => "javascript: valor=this.value; if (valor!='') {valor=valor.pad(4, '0',0);document.getElementById('fadescto_coddesc').value=valor;}",
)); echo $value ? $value : '&nbsp;' ?>

    </div>

<br/>

  <?php echo label_for('fadescto[desdesc]', __($labels['fadescto{desdesc}' ]), 'class="required"') ?>
  <div class="content<?php if ($sf_request->hasError('fadescto{desdesc}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fadescto{desdesc}')): ?>
    <?php echo form_error('fadescto{desdesc}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php $value = object_input_tag($fadescto, 'getDesdesc', array (
  'size' => 50,
  'maxlength' => 100,
  'control_name' => 'fadescto[desdesc]',
)); echo $value ? $value : '&nbsp;' ?>
   </div>
<br/>

<table>
<tr>
<th><fieldset id="sf_fieldset_none" class="">
<legend><?php echo __('Tipo de Descuento') ?></legend>
<div class="form-row">
<?

if ($fadescto->getTipdesc()=='M')	{
  ?><?php echo radiobutton_tag('fadescto[tipdesc]', 'M', true)        ."Puntual".'&nbsp;&nbsp;';
		  echo radiobutton_tag('fadescto[tipdesc]', 'P', false)."   Porcentual";?>
		<?

}else{
	echo radiobutton_tag('fadescto[tipdesc]', 'M', false)        ."Puntual".'&nbsp;&nbsp;';
	echo radiobutton_tag('fadescto[tipdesc]', 'P', true)."   Porcentual";

} ?>
</div></fieldset></th>
<th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
<th><?php echo label_for('fadescto[mondesc]', __($labels['fadescto{mondesc}']), 'class="required" ') ?>
<div class="content<?php if ($sf_request->hasError('fadescto{mondesc}')): ?> form-error<?php endif; ?>">
<?php if ($sf_request->hasError('fadescto{mondesc}')): ?> <?php echo form_error('fadescto{mondesc}', array('class' => 'form-error-msg')) ?>
<?php endif; ?>

 <?php $value = object_input_tag($fadescto, array('getMondesc',true), array (
'size' => 7,
'control_name' => 'fadescto[mondesc]',
'onBlur' => "javascript:event.keyCode=13;return entermontootro(event, this.id)",
), $default_value = number_format($value,2,',','.')); echo $value ? $value : '&nbsp;' ?>&nbsp;&nbsp;</div></th>
</tr>
</table>

<br>

<div id="divdiasapl">
  <?php echo label_for('fadescto[diasapl]', __($labels['fadescto{diasapl}' ]), 'class="required"') ?>
  <div class="content<?php if ($sf_request->hasError('fadescto{diasapl}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fadescto{diasapl}')): ?>
    <?php echo form_error('fadescto{diasapl}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php $value = object_input_tag($fadescto, 'getDiasapl', array (
  'size' => 4,
  'maxlength' => 4,
  'control_name' => 'fadescto[diasapl]',
)); echo $value ? $value : '&nbsp;' ?>

    </div>
</div>

<br>

<div id="divtipret">
  <?php echo label_for('fadescto[tipret]', __($labels['fadescto{tipret}' ]), 'class="required"') ?>
  <div class="content<?php if ($sf_request->hasError('fadescto{tipret}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fadescto{tipret}')): ?>
    <?php echo form_error('fadescto{tipret}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

	<?
	if ($fadescto->getTipret()=='S')	{
	  ?><?php echo radiobutton_tag('fadescto[tipret]', 'S', true)        ."Si".'&nbsp;&nbsp;';
			  echo radiobutton_tag('fadescto[tipret]', 'N', false)."   No";?>
			<?

	}else{
		echo radiobutton_tag('fadescto[tipret]', 'S', false)        ."Si".'&nbsp;&nbsp;';
		echo radiobutton_tag('fadescto[tipret]', 'N', true)."   No";

	} ?>

    </div>
</div>


</fieldset>

<br/>

<fieldset id="sf_fieldset_none" class="">
<legend><?php echo __('Datos de la Cuenta Contable') ?></legend>
<div class="form-row">
  <?php echo label_for('fadescto[codcta]', __($labels['fadescto{codcta}' ]), 'class="required"') ?>
  <div class="content<?php if ($sf_request->hasError('fadescto{codcta}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fadescto{codcta}')): ?>
    <?php echo form_error('fadescto{codcta}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>


  <?php /*$value = get_partial('codcta', array('type' => 'edit', 'fadescto' => $fadescto)); echo $value ? $value : '&nbsp;'*/ ?>
 <?php /*$value = object_input_tag($fadescto, 'getCodcta', array (
  'size' => 32,
  'control_name' => 'fadescto[codcta]',
  'maxlength' => $longcon,
  'onKeyDown' => "javascript:return dFilter (event.keyCode, this,'$mascaracontabilidad')",
  'onBlur'=> remote_function(array(
			  'url'      => 'farecarg/ajax',
			  'complete' => 'AjaxJSON(request, json)',
			  'condition' => "$('fadescto_codcta').value != ''",
  			  'with' => "'ajax=2&cajtexcom=fadescto_codcta&cajtexmos=fadescto_descta&codigo='+this.value"
			  )),
)); echo $value ? $value : '&nbsp;'*/ ?>

 <?php $value = object_input_tag($fadescto, 'getCodcta', array (
  'size' => 32,
  'control_name' => 'fadescto[codcta]',
  'onBlur'=> remote_function(array(
			  'url'      => 'fadescto/ajax',
			  'complete' => 'AjaxJSON(request, json)',
			  'condition' => "$('fadescto_codcta').value != ''",
  			  'with' => "'ajax=2&cajtexcom=fadescto_codcta&cajtexmos=fadescto_descta&codigo='+this.value"
			  )),
)); echo $value ? $value : '&nbsp;' ?>

&nbsp;&nbsp;
 <?php
 echo  button_to_popup('...',cross_app_link_to('herramientas','catalogo').'/metodo/Contabb_Farecarg/clase/Contabb/frame/sf_admin_edit_form/obj1/fadescto_codcta/obj2/fadescto_descta')
 ?>

    </div>

<br>

  <?php echo label_for('fadescto[descta]', __($labels['fadescto{descta}']), 'class="required"') ?>
  <div class="content<?php if ($sf_request->hasError('fadescto{descta}')): ?> form-error<?php endif; ?>">
  <?php if ($sf_request->hasError('fadescto{descta}')): ?>
    <?php echo form_error('fadescto{descta}', array('class' => 'form-error-msg')) ?>
  <?php endif; ?>

  <?php $value = object_input_tag($fadescto, 'getDescta', array (
  'size' => 80,
  'disabled' => true,
  'control_name' => 'fadescto[descta]',
)); echo $value ? $value : '&nbsp;' ?>
    </div>

</div>
</fieldset>



</div>
</fieldset>

<?php include_partial('edit_actions', array('fadescto' => $fadescto)) ?>

</form>

<ul class="sf_admin_actions">
      <li class="float-left"><?php if ($fadescto->getId()): ?>
<?php echo button_to(__('delete'), 'fadescto/delete?id='.$fadescto->getId(), array (
  'post' => true,
  'confirm' => __('Are you sure?'),
  'class' => 'sf_admin_action_delete',
)) ?><?php endif; ?>
</li>
  </ul>

